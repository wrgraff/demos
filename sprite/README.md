# Сравнение SVG-спрайтов

А знаете ли вы, что svg-спрайты бывают не только символьными?

Да откуда вам знать, если учили вас только им =)  
А правда в том, что способов собрать спрайт на самом деле много. И все они работают немного по разному.

Пробовал ли кто-нибудь из вас поставить спрайт в фон?  
Примерно таким способом: `background-image: url('../img/sprite.svg#heart’).`  
Если да, то вы уже знаете, что спрайт не работает в фоне. Но это не совсем точно, потому что правильнее будет сказать «_символьный_ спрайт не работает в фоне».

Я сделал для вас [небольшую демку](https://demos.frontend-design.ru/sprite/src/), в которой сравнил разные способы создания спрайта и его применение через `<img>`, `<use>`, фон и маску.
И оказывается, что один из способов позволяет использовать спрайт как угодно.

И это — стаковый спрайт!

Если хотите разобраться в том, как именно он работает, можете почитать [статью на эту тему](https://simurai.com/blog/2012/04/02/svg-stacks).

## Как использовать

О том, как именно и по каким принципам работает этот спрайт, я позже напишу более подробную статью.  
С разбором того, как можно собрать такой спрайт руками, чтобы было в деталях понятно как он функционирует.

А пока что разберемся, как можно создать этот спрайт с помощью Gulp.

Ваша сборка спрайта по умолчанию выглядит как-то так:
```js
const sprite = () => {
  return gulp.src("source/img/icons/*.svg")
    .pipe(svgstore({
      inlineSvg: true
    }))
    .pipe(rename("sprite.svg"))
    .pipe(gulp.dest("build/img"));
}
exports.sprite = sprite;
```

К сожалению, собрать модулем gulp-svgstore стаковый спрайт не получится, и нам понадобится модуль [gulp-svg-sprite](https://www.npmjs.com/package/gulp-svg-sprite).

Его скрипт выглядит несколько хитро. Видимо, издержки того, что этот модуль умеет собирать любой спрайт (и даже несколько форматов сразу).

Вам будет достаточно чего-то подобного:

```js
const sprite = () => {
  return gulp.src("source/img/icons/*.svg")
    .pipe(svgSprite({
      mode: {
        stack: {
          sprite: 'sprite.svg',
          dest: '.',
        }
      }
    }))
    .pipe(gulp.dest("build/img"));
}
exports.sprite = sprite;
```

Думаю, с модом все понятно. А вот некоторые параметры замысловаты:
- `sprite` указывает имя создаваемого файла (имя по умолчанию может вас удивить);
- `dest` указывает путь к файлу внутри той папки, в которую указывает наша функция сборки.
Это сделано для того, чтобы можно было спрайты разных видов складывать в любые папки и называть любыми именами.
